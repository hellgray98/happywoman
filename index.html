<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Greeting Card</title>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.min.js"></script>
    <script>
        // Khởi tạo Three.js
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Tạo ánh sáng
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // Ánh sáng môi trường
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5); // Ánh sáng chiếu từ một hướng
        directionalLight.position.set(1, 1, 1).normalize();
        scene.add(directionalLight);

        // Tạo hình lập phương (thiệp)
        const cardGeometry = new THREE.BoxGeometry(2, 1, 0.1);
        const cardMaterial = new THREE.MeshPhongMaterial({ color: 0xf0e68c }); // Màu và ánh sáng
        const card = new THREE.Mesh(cardGeometry, cardMaterial);
        scene.add(card);

        // Tạo nội dung bên trong thiệp
        const contentGeometry = new THREE.BoxGeometry(1.6, 0.8, 0.05);
        const contentMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0 }); // Nội dung ẩn ban đầu
        const content = new THREE.Mesh(contentGeometry, contentMaterial);
        content.position.set(0, 0, 0.055); // Đặt vị trí nội dung bên trong thiệp
        card.add(content);

        // Đặt camera
        camera.position.z = 5;

        // Xử lý sự kiện hover
        card.userData.hovered = false;
        card.addEventListener('mouseenter', () => {
            if (!card.userData.hovered) {
                card.userData.hovered = true;
                new TWEEN.Tween(content.position)
                    .to({ z: 0.055 }, 500)
                    .start();
                new TWEEN.Tween(content.material)
                    .to({ opacity: 1 }, 500)
                    .start();
            }
        });
        card.addEventListener('mouseleave', () => {
            if (card.userData.hovered) {
                card.userData.hovered = false;
                new TWEEN.Tween(content.position)
                    .to({ z: 0 }, 500)
                    .start();
                new TWEEN.Tween(content.material)
                    .to({ opacity: 0 }, 500)
                    .start();
            }
        });

        // Tạo animation
        const animate = function () {
            requestAnimationFrame(animate);

            TWEEN.update();

            card.rotation.y += 0.01;

            renderer.render(scene, camera);
        };

        animate();
    </script>
</body>
</html>
